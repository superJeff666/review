<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>call && apply</title>
  </head>
  <body></body>
</html>
<script>
  const one = {
    name: "jeff",
    age: 18,
    say: function(gender, num) {
      console.log(this.name + "," + this.age + "," + gender + "," + num);
    }
  };

  const two = {
    name: "tom",
    age: 23
  };

  // 手写call
  // Function.prototype.myCall = function(obj) {
  //     const object = obj || window; //如果第一个参数为空则默认指向window对象
  //     let args = [...arguments].slice(1);
  //     object.func = this;
  //     const result = object.func(...args);
  //     delete object.func;
  //     return result;
  // }

  // one.say.myCall(two,'1',12121);

  // 手写apply
  Function.prototype.myApply = function(obj) {
    const object = obj || window; //如果第一个参数为空则默认指向window对象
    var args;
    if (arguments.length > 1) {
      args = arguments[1];
    } else {
      args = [];
    }
    object.func = this;
    const result = object.func(...args);
    delete object.func;
    return result;
  };
  one.say.myApply(two, [1, 3333]);
  
</script>
