<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>计数二进制子串</title>
  </head>
  <body></body>
</html>
<script>
  //leetcode 696
  //给定一个字符串 s，计算具有相同数量0和1的非空(连续)子字符串的数量，
  //并且这些子字符串中的所有0和所有1都是组合在一起的。

  //输入: "00110011"
  // 输出: 6
  // 解释: 有6个子串具有相同数量的连续1和0：“0011”，“01”，“1100”，“10”，“0011” 和 “01”。

  // 请注意，一些重复出现的子串要计算它们出现的次数。

  // 另外，“00110011”不是有效的子串，因为所有的0（和1）没有组合在一起。

  function countBinarySubstrings(s) {
    let match = function(s) {
      let j = s.match(/^(0+|1+)/)[0];
      let o = (j[0] ^ 1).toString().repeat(j.length);
      let d = j + o;
      if (s.startsWith(d)) {
        return true;
      } else {
        return "";
      }
    };
    let r = [];
    for (let i = 0; i < s.length - 1; i++) {
      let sub = match(s.slice(i));
      if (sub) {
        r.push(sub);
      }
    }
    return r.length;
  }
  console.log(countBinarySubstrings("00110011"));
</script>
